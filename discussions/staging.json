{
  "id": "staging",
  "date": "2026-01-18",
  "title": "data-alchemy-staging: Sample File Generation",
  "url": "https://git.codewilling.com/-/snippets/6",
  "summary": "Complete design for staging/sampling from bronze layer. Problem: Can't scan TB files in raw, millions of files/hour. Solution: Prod appends to manifest.jsonl (raw, bronze, mtime), Staging reads manifest and samples from bronze. Alternative: temp_ prefix in raw for early sampling. File type handling: csv, parquet, json, jsonl, gz, zip, tar - all create sample files in same format. Lazy load via mtime check. No watchdog/inotify needed - simple JSONL append.",
  "options": {
    "A": "Sample from Bronze (recommended)",
    "B": "temp_ prefix in Raw (optional)",
    "C": "Hybrid (both)"
  },
  "file_types": ["csv", "parquet", "json", "jsonl", "gz", "zip", "tar"],
  "comments": [],
  "tags": ["staging", "sampling", "bronze", "manifest", "data-alchemy"]
}
